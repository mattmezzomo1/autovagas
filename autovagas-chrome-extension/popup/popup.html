<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AutoVagas</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="logo">
        <img src="../icons/icon32.png" alt="AutoVagas" class="logo-icon">
        <h1>AutoVagas</h1>
      </div>
      <div class="version">v1.0.0</div>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="screen">
      <div class="login-form">
        <h2>Faça login para continuar</h2>
        <p class="subtitle">Use suas credenciais do AutoVagas</p>
        
        <form id="loginForm">
          <div class="input-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
          </div>
          
          <div class="input-group">
            <label for="password">Senha:</label>
            <input type="password" id="password" name="password" required>
          </div>
          
          <button type="submit" class="btn btn-primary" id="loginBtn">
            <span class="btn-text">Entrar</span>
            <div class="spinner" style="display: none;"></div>
          </button>
        </form>
        
        <div class="login-links">
          <a href="#" id="forgotPassword">Esqueci minha senha</a>
          <a href="#" id="createAccount">Criar conta</a>
        </div>
        
        <div id="loginError" class="error-message" style="display: none;"></div>
      </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboardScreen" class="screen" style="display: none;">
      <!-- User Info -->
      <div class="user-info">
        <div class="user-avatar">
          <img id="userAvatar" src="" alt="Avatar" style="display: none;">
          <div id="userInitials" class="user-initials"></div>
        </div>
        <div class="user-details">
          <div id="userName" class="user-name"></div>
          <div id="userPlan" class="user-plan"></div>
        </div>
        <button id="logoutBtn" class="btn-icon" title="Sair">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16,17 21,12 16,7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
        </button>
      </div>

      <!-- Status Card -->
      <div class="status-card">
        <div class="status-header">
          <div class="status-indicator">
            <div id="statusDot" class="status-dot"></div>
            <span id="statusText">Inativo</span>
          </div>
          <button id="toggleAutoApply" class="toggle-btn">
            <div class="toggle-slider"></div>
          </button>
        </div>
        
        <div class="status-stats">
          <div class="stat">
            <div class="stat-value" id="jobsFound">0</div>
            <div class="stat-label">Vagas encontradas</div>
          </div>
          <div class="stat">
            <div class="stat-value" id="applicationsSubmitted">0</div>
            <div class="stat-label">Aplicações enviadas</div>
          </div>
        </div>
      </div>

      <!-- Usage Limits -->
      <div class="limits-card">
        <h3>Uso mensal</h3>
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill"></div>
        </div>
        <div class="limits-text">
          <span id="usageText">0 de 50 aplicações</span>
          <span id="resetDate">Renova em: --</span>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="actions">
        <button id="settingsBtn" class="btn btn-secondary">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"></path>
          </svg>
          Configurações
        </button>
        
        <button id="statisticsBtn" class="btn btn-secondary">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 3v18h18"></path>
            <path d="M18 17V9l-5 5-3-3-4 4"></path>
          </svg>
          Estatísticas
        </button>
      </div>

      <!-- Platform Status -->
      <div class="platforms">
        <h3>Plataformas ativas</h3>
        <div class="platform-list">
          <div class="platform-item" data-platform="linkedin">
            <div class="platform-icon linkedin"></div>
            <span>LinkedIn</span>
            <div class="platform-status"></div>
          </div>
          <div class="platform-item" data-platform="infojobs">
            <div class="platform-icon infojobs"></div>
            <span>InfoJobs</span>
            <div class="platform-status"></div>
          </div>
          <div class="platform-item" data-platform="catho">
            <div class="platform-icon catho"></div>
            <span>Catho</span>
            <div class="platform-status"></div>
          </div>
          <div class="platform-item" data-platform="indeed">
            <div class="platform-icon indeed"></div>
            <span>Indeed</span>
            <div class="platform-status"></div>
          </div>
          <div class="platform-item" data-platform="vagas">
            <div class="platform-icon vagas"></div>
            <span>Vagas.com</span>
            <div class="platform-status"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Settings Screen -->
    <div id="settingsScreen" class="screen" style="display: none;">
      <div class="screen-header">
        <button id="backToMain" class="btn-back">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5m7-7l-7 7 7 7"></path>
          </svg>
        </button>
        <h2>Configurações</h2>
      </div>

      <div class="settings-content">
        <!-- Platform Selection -->
        <div class="setting-group">
          <h3>Plataformas</h3>
          <div class="platform-toggles">
            <label class="toggle-label">
              <input type="checkbox" id="enableLinkedIn" checked>
              <span class="toggle-switch"></span>
              LinkedIn
            </label>
            <label class="toggle-label">
              <input type="checkbox" id="enableInfoJobs" checked>
              <span class="toggle-switch"></span>
              InfoJobs
            </label>
            <label class="toggle-label">
              <input type="checkbox" id="enableCatho" checked>
              <span class="toggle-switch"></span>
              Catho
            </label>
            <label class="toggle-label">
              <input type="checkbox" id="enableIndeed" checked>
              <span class="toggle-switch"></span>
              Indeed
            </label>
            <label class="toggle-label">
              <input type="checkbox" id="enableVagas" checked>
              <span class="toggle-switch"></span>
              Vagas.com
            </label>
          </div>
        </div>

        <!-- Search Criteria -->
        <div class="setting-group">
          <h3>Critérios de busca</h3>
          <div class="input-group">
            <label for="keywords">Palavras-chave (separadas por vírgula):</label>
            <input type="text" id="keywords" placeholder="desenvolvedor, programador, engenheiro">
          </div>
          <div class="input-group">
            <label for="locations">Localizações (separadas por vírgula):</label>
            <input type="text" id="locations" placeholder="São Paulo, Rio de Janeiro, Remoto">
          </div>
        </div>

        <!-- Application Settings -->
        <div class="setting-group">
          <h3>Configurações de aplicação</h3>
          <div class="input-group">
            <label for="delayBetweenApplications">Delay entre aplicações (segundos):</label>
            <input type="number" id="delayBetweenApplications" min="3" max="60" value="5">
          </div>
          <label class="toggle-label">
            <input type="checkbox" id="skipAppliedJobs" checked>
            <span class="toggle-switch"></span>
            Pular vagas já aplicadas
          </label>
        </div>

        <button id="saveSettings" class="btn btn-primary">Salvar configurações</button>
      </div>
    </div>

    <!-- Statistics Screen -->
    <div id="statisticsScreen" class="screen" style="display: none;">
      <div class="screen-header">
        <button id="backToMainFromStats" class="btn-back">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5m7-7l-7 7 7 7"></path>
          </svg>
        </button>
        <h2>Estatísticas</h2>
      </div>

      <div class="stats-content">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-number" id="totalApplicationsStats">0</div>
            <div class="stat-title">Total de aplicações</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="monthlyApplicationsStats">0</div>
            <div class="stat-title">Este mês</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="successRateStats">0%</div>
            <div class="stat-title">Taxa de sucesso</div>
          </div>
        </div>

        <div class="platform-stats">
          <h3>Por plataforma</h3>
          <div id="platformStatsContainer"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
